{"version":3,"sources":["components/CanvasColorButton.js","components/Canvas.js","App.js","index.js"],"names":["CanvasColorButton","state","displayColorPicker","color","r","g","b","a","handleClick","_this","setState","handleClose","props","setCanvasColor","handleChange","rgb","console","log","this","colorFromStorage","_this$state","styles","reactCSS","default","width","height","borderRadius","background","concat","swatch","padding","boxShadow","display","cursor","popover","position","zIndex","top","window","innerWidth","left","cover","right","bottom","react_default","createElement","style","onClick","onMouseDown","react_color_lib","onChange","Component","Canvas","lines","Immutable","List","isDrawing","canvasColor","JSON","parse","localStorage","getItem","retrieveDataFromLocalStorage","linesFromStorage","idx","length","line","newLineWithImmutablePoints","jdx","point","immutablePoint","Map","x","y","push","immutableLine","saveLinesToLocalStorage","setItem","stringify","handlePointerMove","pointerEvent","relativeCoordinatesForEvent","prevState","updateIn","size","handlePointerUp","handlePointerDown","button","boundingRect","refs","canvas","getBoundingClientRect","clientX","clientY","eraseCanvas","removeItem","dataFromColorButton","document","addEventListener","removeEventListener","classes","className","ref","onPointerDown","onPointerMove","backgroundColor","Canvas_Drawing","Button_default","variant","float","components_CanvasColorButton","withStyles","theme","margin","spacing","unit","Drawing","_ref","map","index","Canvas_DrawingLine","key","DrawingLine","_ref2","pathData","get","join","d","App","components_Canvas","startApp","ReactDOM","render","src_App_0","getElementById","cordova"],"mappings":"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","file":"static/js/main.12e642f1.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport reactCSS from 'reactcss';\nimport { SketchPicker } from 'react-color';\n\nclass CanvasColorButton extends Component {\n  state = {\n    displayColorPicker: false,\n    color: {\n      r: '255',\n      g: '255',\n      b: '255',\n      a: '1',\n    },\n  };\n\n  componentDidMount() {\n    console.log(this.props);\n    const { colorFromStorage } = this.props;\n    this.setState({ color: colorFromStorage });\n  }\n\n  handleClick = () => {\n    const { displayColorPicker } = this.state;\n    this.setState({ displayColorPicker: !displayColorPicker });\n  };\n\n  handleClose = () => {\n    const { color } = this.state;\n    this.setState({ displayColorPicker: false }, () => this.props.setCanvasColor(color));\n  };\n\n  handleChange = color => {\n    this.setState({ color: color.rgb });\n  };\n\n  render() {\n    const { color, displayColorPicker } = this.state;\n\n    const styles = reactCSS({\n      'default': {\n        color: {\n          width: '36px',\n          height: '14px',\n          borderRadius: '2px',\n          background: `rgba(${color.r}, ${color.g}, ${color.b}, ${color.a})`,\n        },\n        swatch: {\n          padding: '5px',\n          background: '#fff',\n          borderRadius: '1px',\n          boxShadow: '0 0 0 1px rgba(0,0,0,.1)',\n          display: 'inline-block',\n          cursor: 'pointer',\n        },\n        popover: {\n          position: 'absolute',\n          zIndex: '2',\n          top: window.innerWidth > 500 ? '50%' : '45%',\n          left: window.innerWidth > 500 ? 'auto' : '10%',\n        },\n        cover: {\n          position: 'fixed',\n          top: '0px',\n          right: '0px',\n          bottom: '0px',\n          left: '0px',\n        },\n      },\n    });\n\n    return (\n      <div>\n        <div style={styles.swatch} onClick={this.handleClick}>\n          <div style={styles.color}/>\n        </div>\n        {displayColorPicker ? <div style={styles.popover}>\n          <div style={styles.cover} onMouseDown={this.handleClose}/>\n          <SketchPicker color={color} onChange={this.handleChange}/>\n        </div> : null}\n\n      </div>\n    );\n  }\n}\n\nexport default CanvasColorButton;","import React, { Component } from 'react';\nimport Immutable from 'immutable';\n\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\nimport CanvasColorButton from './CanvasColorButton';\n\nconst styles = theme => ({\n  button: {\n    margin: theme.spacing.unit,\n  }\n});\n\nclass Canvas extends Component {\n  state = {\n    lines: new Immutable.List(),\n    isDrawing: false,\n    canvasColor: JSON.parse(localStorage.getItem('canvasColor')) || {\n      r: '255',\n      g: '255',\n      b: '255',\n      a: '1',\n    },\n  };\n\n  componentDidMount() {\n    document.addEventListener('pointerup', this.handlePointerUp);\n    this.retrieveDataFromLocalStorage();\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('pointerup', this.handlePointerUp);\n  }\n\n  retrieveDataFromLocalStorage = () => {\n    if (localStorage.getItem('lines') !== 'undefined' && localStorage.getItem('lines')) {\n      const linesFromStorage = JSON.parse(localStorage.getItem('lines'));\n      let lines = [];\n      for (let idx = 0; idx < linesFromStorage.length; idx++) {\n        const line = linesFromStorage[idx];\n        const newLineWithImmutablePoints = [];\n\n        for (let jdx = 0; jdx < line.length; jdx++) {\n          const point = line[jdx];\n          const immutablePoint = new Immutable.Map({\n            x: point['x'],\n            y: point['y']\n          });\n\n          newLineWithImmutablePoints.push(immutablePoint);\n\n        }\n        const immutableLine = new Immutable.List(newLineWithImmutablePoints);\n        lines.push(immutableLine);\n      }\n\n      this.setState({ lines: new Immutable.List(lines) });\n    }\n  };\n\n  saveLinesToLocalStorage = () => {\n    const { lines } = this.state;\n    localStorage.setItem('lines', JSON.stringify(lines));\n  };\n\n  handlePointerMove = pointerEvent => {\n    if (!this.state.isDrawing) {\n      return;\n    }\n\n    const point = this.relativeCoordinatesForEvent(pointerEvent);\n\n    this.setState(prevState => ({\n      lines: prevState.lines.updateIn([prevState.lines.size - 1], line => line.push(point))\n    }), () => this.saveLinesToLocalStorage());\n  };\n\n  handlePointerUp = () => {\n    this.setState({ isDrawing: false });\n  };\n\n  handlePointerDown = pointerEvent => {\n    if (pointerEvent.button !== 0) {\n      return;\n    }\n\n    const point = this.relativeCoordinatesForEvent(pointerEvent);\n\n    this.setState(prevState => ({\n      lines: prevState.lines.push(new Immutable.List([point])),\n      isDrawing: true\n    }), () => this.saveLinesToLocalStorage());\n  };\n\n  relativeCoordinatesForEvent = pointerEvent => {\n    const boundingRect = this.refs.canvas.getBoundingClientRect();\n    return new Immutable.Map({\n      x: pointerEvent.clientX - boundingRect.left,\n      y: pointerEvent.clientY - boundingRect.top,\n    });\n  };\n\n  eraseCanvas = () => {\n    this.setState({ lines: new Immutable.List() }, () => {\n      localStorage.removeItem('lines');\n    });\n  };\n\n  setCanvasColor = dataFromColorButton => {\n    this.setState({ canvasColor: dataFromColorButton },\n      () => localStorage.setItem('canvasColor', JSON.stringify(dataFromColorButton)));\n  };\n\n  render() {\n    const { lines, canvasColor } = this.state;\n    const { classes } = this.props;\n    return (\n      <div\n        className=\"canvas\"\n        ref=\"canvas\"\n        onPointerDown={this.handlePointerDown}\n        onPointerMove={this.handlePointerMove}\n        style={{ backgroundColor: `rgba(${canvasColor.r}, ${canvasColor.g}, ${canvasColor.b}, ${canvasColor.a})` }}\n      >\n\n        <Drawing lines={lines}/>\n        <div>\n          <Button variant=\"outlined\" className={classes.button} onClick={this.eraseCanvas}\n                  style={{ display: 'inline', float: 'left' }}>\n            Erase Lines\n          </Button>\n          <div className=\"colorButton\">\n            <p className=\"label\">Canvas Color</p>\n            <CanvasColorButton setCanvasColor={this.setCanvasColor} colorFromStorage={canvasColor}\n                               className=\"colorPicker\"/>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(Canvas);\n\nconst Drawing = ({ lines }) => {\n  return (\n    <svg className=\"drawing\">\n      {lines.map((line, index) => (\n        <DrawingLine key={index} line={line}/>\n      ))}\n    </svg>\n  );\n};\n\nconst DrawingLine = ({ line }) => {\n  const pathData = 'M ' +\n    line.map(point => {\n      return `${point.get('x')} ${point.get('y')}`;\n    }).join(' L ');\n\n  return <path className=\"path\" d={pathData}/>;\n};","import React, { Component } from 'react';\nimport './App.css';\nimport Canvas from './components/Canvas';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <h1>Picasso: A Whiteboard App</h1>\n        <Canvas/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import 'babel-polyfill';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nconst startApp = () => {\n  ReactDOM.render(<App />, document.getElementById('root'));\n};\n\nif(window.cordova) {\n  document.addEventListener('deviceready', startApp, false);\n} else {\n  startApp();\n}"],"sourceRoot":""}